<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright (C) 2003-2011 eXo Platform SAS.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program. If not, see <http://www.gnu.org/licenses/>.

-->
<configuration
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.exoplatform.org/xml/ns/kernel_1_2.xsd http://www.exoplatform.org/xml/ns/kernel_1_2.xsd"
  xmlns="http://www.exoplatform.org/xml/ns/kernel_1_2.xsd">

  <component>
    <key>org.exoplatform.social.common.xmlprocessor.XMLProcessor</key>
    <type>org.exoplatform.social.common.xmlprocessor.XMLProcessorImpl</type>
  </component>

  <component>
    <key>org.exoplatform.social.common.xmlprocessor.model.XMLTagFilterPolicy</key>
    <type>org.exoplatform.social.common.xmlprocessor.model.XMLTagFilterPolicy</type>
  </component>

    <component>
        <key>org.exoplatform.social.core.processor.I18NActivityProcessor</key>
        <type>org.exoplatform.social.core.processor.I18NActivityProcessor</type>
        <component-plugins>
            <component-plugin>
                <name>exosocial:spaces</name> <!-- activity type -->
                <set-method>addActivityResourceBundlePlugin</set-method>
                <type>org.exoplatform.social.core.processor.ActivityResourceBundlePlugin</type>
                <init-params>
                    <object-param>
                        <name>locale.social.Core</name> <!-- resource bundle key file -->
                        <description>activity key type resource bundle mapping for exosocial:spaces</description>
                        <object type="org.exoplatform.social.core.processor.ActivityResourceBundlePlugin">
                            <field name="activityKeyTypeMapping">
                                <map type="java.util.HashMap">
                                    <entry>
                                        <key><string>space_created</string></key>
                                        <value><string>SpaceActivityPublisher.space_created</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>manager_role_granted</string></key>
                                        <value><string>SpaceActivityPublisher.manager_role_granted</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>manager_role_revoked</string></key>
                                        <value><string>SpaceActivityPublisher.manager_role_revoked</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>has_joined</string></key>
                                        <value><string>SpaceActivityPublisher.has_joined</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>has_left</string></key>
                                        <value><string>SpaceActivityPublisher.has_left</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>user_joined</string></key>
                                        <value><string>SpaceActivityPublisher.user_joined</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>member_left</string></key>
                                        <value><string>SpaceActivityPublisher.member_left</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>space_renamed</string></key>
                                        <value><string>SpaceActivityPublisher.space_renamed</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>space_description_edited</string></key>
                                        <value><string>SpaceActivityPublisher.space_description_edited</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>space_avatar_edited</string></key>
                                        <value><string>SpaceActivityPublisher.space_avatar_edited</string></value>
                                    </entry>
                                </map>
                            </field>
                        </object>
                    </object-param>
                </init-params>
            </component-plugin>
            <component-plugin>
                <name>USER_ACTIVITIES_FOR_SPACE</name> <!-- activity type -->
                <set-method>addActivityResourceBundlePlugin</set-method>
                <type>org.exoplatform.social.core.processor.ActivityResourceBundlePlugin</type>
                <init-params>
                    <object-param>
                        <name>locale.social.Core</name> <!-- resource bundle key file -->
                        <description>activity key type resource bundle mapping for exosocial:spaces</description>
                        <object type="org.exoplatform.social.core.processor.ActivityResourceBundlePlugin">
                            <field name="activityKeyTypeMapping">
                                <map type="java.util.HashMap">
                                    <entry>
                                        <key><string>user_joined_public_space</string></key>
                                        <value><string>SpaceActivityPublisher.member_of_one_or_zero_public_space</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>user_joined_public_spaces</string></key>
                                        <value><string>SpaceActivityPublisher.member_of_number_public_spaces</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>user_space_joined</string></key>
                                        <value><string>SpaceActivityPublisher.user_space_joined</string></value>
                                    </entry>
                                </map>
                            </field>
                        </object>
                    </object-param>
                </init-params>
            </component-plugin>
            <component-plugin>
                <name>USER_ACTIVITIES_FOR_RELATIONSHIP</name> <!-- activity type -->
                <set-method>addActivityResourceBundlePlugin</set-method>
                <type>org.exoplatform.social.core.processor.ActivityResourceBundlePlugin</type>
                <init-params>
                    <object-param>
                        <name>locale.social.Core</name> <!-- resource bundle key file -->
                        <description>activity key type resource bundle mapping for relation's activities</description>
                        <object type="org.exoplatform.social.core.processor.ActivityResourceBundlePlugin">
                            <field name="activityKeyTypeMapping">
                                <map type="java.util.HashMap">
                                    <entry>
                                        <key><string>user_relations</string></key>
                                        <value><string>RelationshipPublisher.user_relations</string></value>
                                    </entry>
                                </map>
                            </field>
                        </object>
                    </object-param>
                </init-params>
            </component-plugin>
            <component-plugin>
                <name>USER_COMMENTS_ACTIVITY_FOR_RELATIONSHIP</name> <!-- activity type -->
                <set-method>addActivityResourceBundlePlugin</set-method>
                <type>org.exoplatform.social.core.processor.ActivityResourceBundlePlugin</type>
                <init-params>
                    <object-param>
                        <name>locale.social.Core</name> <!-- resource bundle key file -->
                        <description>activity key type resource bundle mapping for relation's activities</description>
                        <object type="org.exoplatform.social.core.processor.ActivityResourceBundlePlugin">
                            <field name="activityKeyTypeMapping">
                                <map type="java.util.HashMap">
                                    <entry>
                                        <key><string>user_relation_confirmed</string></key>
                                        <value><string>RelationshipPublisher.user_relation_confirmed</string></value>
                                    </entry>
                                </map>
                            </field>
                        </object>
                    </object-param>
                </init-params>
            </component-plugin>
            <component-plugin>
                <name>exosocial:people</name>
                <set-method>addActivityResourceBundlePlugin</set-method>
                <type>org.exoplatform.social.core.processor.ActivityResourceBundlePlugin</type>
                <init-params>
                    <object-param>
                        <name>locale.social.Core</name>
                        <description>activity key type resource bundle mapping for exosocial:people</description>
                        <object type="org.exoplatform.social.core.processor.ActivityResourceBundlePlugin">
                            <field name="activityKeyTypeMapping">
                                <map type="java.util.HashMap">
                                    <entry>
                                        <key><string>position_updated</string></key>
                                        <value><string>ProfileUpdatesPublisher.position_updated</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>avatar_updated</string></key>
                                        <value><string>ProfileUpdatesPublisher.avatar_updated</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>basic_info_updated</string></key>
                                        <value><string>ProfileUpdatesPublisher.basic_info_updated</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>contact_section_updated</string></key>
                                        <value><string>ProfileUpdatesPublisher.contact_section_updated</string></value>
                                    </entry>
                                    <entry>
                                        <key><string>experience_section_updated</string></key>
                                        <value><string>ProfileUpdatesPublisher.experience_section_updated</string></value>
                                    </entry>
                                </map>
                            </field>
                        </object>
                    </object-param>
                </init-params>
            </component-plugin>
        </component-plugins>
    </component>

</configuration>
